# Supercharge your productivity by understanding the quickest way to write Java-based applications!

## Setup
- On Windows dowload [Groovy](https://groovy.apache.org/download.html).
- On Linux use SDKman
- Groovy Console : `groovyconsole`

## Groovy operators
### Null-Safe Operator
```groovy
def s = "dddd"
println s.toUpperCase()

//null safe
def s = null
println s?.toUpperCase()


```
- toString()

```
@groovy.transform.ToString
class Job {
    String roleName
    int salary
}

@groovy.transform.ToString
class Person {
    String name
    Job job
}

@groovy.transform.ToString
class Department {
    String deptName = 'Platform Engineering'
    Set<Person> staff = [
        new Person(name: 'Matt', job : new Job(roleName: 'Developer', salary: 32000)),
        new Person(name: 'Bhavin', job : new Job(roleName: 'Manager', salary: 38000))
    ]
}
println new Department()

```
- String interpolation
```
def dept = new Department()
println "Manager Salary: ${dept.staff[1].job.salary}"

//null safe
def dept = new Department()
println "Manager Salary: ${dept.staff[1].job?.salary}"
```
### Elvis Operator
```
def loggedInUser = null
def displayedUsername = loggedInUser ?: 'Guest'

//or
def loggedInUser = 'Adam'
def displayedUsername = loggedInUser !=null ? loggedInUser : 'Guest'
```
### Spaceship Operator
- For comparisons. Returns -1 0 or 1
```	
'Agatha' <=> 'Molly'
```
- Use as a comparator
```
def l = ['black', 'white', 'blue', 'orange']
l.sort{a , b -> b <=> a}
```
- comparator 2
```
@groovy.transform.ToString
class FoodOrder {
    String name
    BigDecimal cost
    
    FoodOrder(name, cost) {
        this.name = name
        this.cost = cost
    }
}

def driveThruOrder = [
    new FoodOrder('Burger', 3.99),
    new FoodOrder('Fries', 1.85),
    new FoodOrder('Burger', 2.75)
]

driveThruOrder.sort{a , b -> a.cost <=> b.cost}
```
### Spread Operator
- Example 1

```
def fruits = ['apples', 'oranges', 'pears']

//*fruits inserts all fruits elements
def shoppingList = ['milk', 'cereal', *fruits]
```
- Example 2
```
def fruits = ['apples', 'oranges', 'pears']

static void capitaliseThreeStrings(String a, String b, String c){
    println 'A = ' + a
    println 'B = ' + b
    println 'C = ' + c
}

capitaliseThreeStrings(*fruits)
```
- Example 3
```
def fruits = ['apples', 'oranges']

static void capitaliseThreeStrings(String... args){
    args.each { println 'Element = ' + it }
}

capitaliseThreeStrings(*fruits)
```
- Example 4
```
def fruits = ['apples', 'oranges']

fruits*.toUpperCase()
```
### Range Operator
- Like a list
```
(1..5)[1]

(1..5).last()
```
- Exclusive range
```
(1..<5).each { println it }
```
- Enum
```
enum Weekdays {
    MON, TUES, WEDS, THURS, FRI
}

(Weekdays.TUES..<Weekdays.THURS).each { println it }
```
## Groovy Strings
### String Interpolation
```
def name = 'Matt'
def s = "How are you, $name?"
```
- Double quotas are used with the interpolation
```
def name = 'Matt'
def s = "How are you, $name?"
println 'String is: ' + s
```
### Heredocs
```
def name = 'Alex'
def emailText =
"""
Hi there, $name!

Thanks for signing up. You're awesome!

Have a great day!

The Groovy Team
"""

println 'Email:'
println emailText
```
### Pattern Operator in Regular Expression
```
def re = ~'S.*' //Sugar, Sweet, Syrop 

def matcher = re.matcher('Sweet')

matcher.matches()
```
### Slashy Operator
```
def re = ~/s.*/ 

```
### Find Operator
```
//=~ find operator
('Sugar' =~ /s.*/).matches()

```
### Match Operator
- Executes matches() 
```
//==~ match operator
def matches = 'Sugar' ==~ /S.x/
```
### Capture groups
```
def s = 'Friday is my favourite  day!'

def dayOfWeek = (s =~ /(.*) is my favourite  day/)[0][1]

println 'Day of week: ' + dayOfWeek
//result Day of week: Friday

```
- Example 2
```
def s = 'Monday is my favourite  day!'

def captures = (s =~ /(.*) is (.*) favourite  day/)[0]
def dayOfWeek = captures[1]
def whoseDay = captures[2]

println 'Day of week: ' + dayOfWeek
println 'Whose day: ' + whoseDay
//results: 
//Day of week: Monday
//Whose day: my

```
- Example 3
```
def s = /Monday is Matt's favourite  day!/ //escaping '

def captures = (s =~ /(.*) is (.*) favourite  day/)[0]
def dayOfWeek = captures[1]
def whoseDay = captures[2]

println "$whoseDay best day of the week is $dayOfWeek"

```
## Collections in Groovy
### Creating Lists and Sets
```
def l = [1, 3, 5, 7]

--
def l = [1, 3, 5, 7] as LinkedList
l.getClass()

def l = [1, 3, 5, 7] as Set
l.getClass()

def l = [1, 3, 5, 7] as HashSet
l.getClass()
```
### Creating Maps
```
def n = [a: 1, b: 5, f: 17]
n.getClass()
```
### Composing Collections of Different Types
```
def food = [fruits: ['apple', 'banana', 'orange'], vegetables: ['potato', 'green beans']]
food.getClass()
```
### Accessing Elements of a List
```
def l = ['a', 'b', 'c', 'e', 'f']
l[1..3].getClass()
```
### Accessing Composite Collections
```
def m = [
    boys: ['Harry', 'Bill'],
    girls: ['Wendy', 'Sofia']
]

m['boys'][1]
```
### Processing Lists and Sets
```
def l = [1, 2, 3, 4, 5]
// it - special groovy variable
l.each { println it} //closure

l.each { element -> println element}
```
### Processing Lists an Sets by Index
```
def l = [1, 2, 3, 4, 5]
l.eachWithIndex { el, idx -> 
    println 'Current Element = ' + el + ', Iteration # = ' + idx
    }
```
```
def l = [1, 2, 3, 4, 5] as Set
l.each { el -> 
    println 'Current Element = ' + el
    }
```
### Processing Maps by Key and Value
```
def m = [
    'Monday': ['Record courses', 'Do exercise'],
    'Friday': ['Relax', 'Spend time with Family', 'Walk dog']
]

m.each { k, v ->
    println "$k = $v"
}
```

```
def m = [
    'Monday': ['Record courses', 'Do exercise'],
    'Friday': ['Relax', 'Spend time with Family', 'Walk dog']
]

for (entry in m) {
    println 'Key = ' + entry.key
    println 'Value = ' + entry.value
}
```
### Filtering Collections
```
def numbers = [1, 2, 3, 4, 5]

numbers.findAll { e ->
    e % 2 == 1
}
```

```
def numbers = [1, 2, 3, 4, 5]

numbers.findAll { it % 2 == 1
}
```

```
def names = ['Tom', 'Dick', 'Harry']

names.findAll {it.startsWith('T')}
```

```
class Person {
    String name
    int age
}

def namesAndAges = [
    new Person(name: 'Robert', age: 50),
    new Person(name: 'Simon', age: 45),
    new Person(name: 'Suzie', age: 32)
]
namesAndAges.findAll { it.age < 48 }.each { println 'Name: ' + it.name }
```
### Finding the Matching Element in a Collection
```
 class Person {
    String name
    int age
}

def namesAndAges = [
    new Person(name: 'Robert', age: 50),
    new Person(name: 'Simon', age: 45),
    new Person(name: 'Suzie', age: 32)
]
namesAndAges.find { it.age < 48 }.name
```
### Testing Elements in Collections
- Checks if every element meets the condition
```
 class Person {
    String name
    int age
}

def namesAndAges = [
    new Person(name: 'Robert', age: 50),
    new Person(name: 'Simon', age: 45),
    new Person(name: 'Suzie', age: 32)
]
namesAndAges.every { it.age < 48 }
```
- Checks if any element meets the condition
```
 class Person {
    String name
    int age
}

def namesAndAges = [
    new Person(name: 'Robert', age: 50),
    new Person(name: 'Simon', age: 45),
    new Person(name: 'Suzie', age: 32)
]
namesAndAges.any { it.age < 48 }
```
### Collecting elements to a list
```
def l = ['Matt', 'Alan', 'Gavin']
l.collect { it.toUpperCase() }
```

```
class Person {
    String name
    int age
}

def l = [
    new Person(name: 'Matt', age: 25),
    new Person(name: 'Alan', age: 23),
    new Person(name: 'Gavin', age: 34)
]

l.collect { it.name.toUpperCase() }
```
### Collecting elements to a Map
```
class Person {
    String name
    int age
}

def l = [
    new Person(name: 'Matt', age: 25),
    new Person(name: 'Alan', age: 23),
    new Person(name: 'Gavin', age: 34)
]

l.collect { [ (it.age) :  it.name.toUpperCase() ] }
```
### Creating Aggregate Functions with Inject
- min, max, sum
```
def l = [1, 2, 3, 4, 5]
l.inject(0) { sum, e -> 
    sum + e
}
```
## Groovy Language Features
### Default Imports and Classes
- [default_imports](https://www.groovy-lang.org/differences.html#_default_imports)
```
def number = 123
number.getClass() 
//Result: class java.lang.Integer


def number = 1.23
number.getClass()
//Result: class java.math.BigDecimal

def number = 123G
number.getClass()
//Result: class java.math.BigInteger
```
### Main Methods in Groovy Applications
```
static def main(args){
    println 'Running'
}

def main(args){
    println 'Running'
}
```
### Creating Classes and Instances in Groovy
```
class Person {

}

public static void main(String[] args){
    Person p = new Person()
}
```

### Adding methods and state to Groovy Classes
```
class Person {
    String name
    
    Person(name) {
        this.name = name
    }
    
    def greet() {
        println "Hello, I'm $name!"
    }
}

public static void main(String[] args){
    Person p = new Person('Matt')
    p.greet()
}
```
### Using Inheritance in Groovy
```
class Person {
    String name
    
    Person(name) {
        this.name = name
    }
    
    def greet() {
        println "Hello, I'm $name!"
    }
}
class Employee extends Person {
    int salary
    
    Employee(String name, int salary){
        super(name)
        this.salary = salary
    }
    
    def reportForWork(){
        "Here sir, ready and willing for the long day ahead!"
    }
}

public static void main(String[] args){
    Employee e = new Employee('Matt', 5000)
    e.greet()
    println(e.reportForWork())
}
```